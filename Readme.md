# UART Verification with Cocotb

## Обзор

Этот репозиторий содержит тестовое окружение на базе Cocotb для верификации UART (Universal Asynchronous Receiver/Transmitter) модулей, реализованных на SystemVerilog.

## Структура проекта

```
├── test/modules            # Тестовое окружение Cocotb
│   ├── test_axils.py       # Тесты AXI Lite Slave интерфейса
│   ├── test_fifo.py        # Тесты FIFO модуля
│   ├── test_uart_rx.py     # Тесты UART приемника
│   ├── test_uart_tx.py     # Тесты UART передатчика
│   └── lib/
│       ├── ports.py        # Определения портов для DUT
│       └── config.py       # Конфигурационные константы
├── rtl/                    # Исходные коды на SystemVerilog
│   ├── axils.sv           # AXI Lite Slave интерфейс
│   ├── fifo.sv            # Синхронное FIFO
│   ├── uart_rx.sv         # UART приемник
│   ├── uart_tx.sv         # UART передатчик
│   ├── uart.sv           # Верхний уровень UART
│   └── sync.sv           # Синхронизатор
└── test/dump/             # Директория для дампов волновых форм
```

## Основные модули

### 1. UART RX (Приемник)
- Поддержка настраиваемой скорости передачи (baud rate)
- Обнаружение старт/стоп битов
- Буферизация данных через FIFO
- Синхронизация асинхронных сигналов

### 2. UART TX (Передатчик)
- Программируемая скорость передачи
- Генерация корректных UART фреймов
- Контроль состояния передачи (busy/done)

### 3. FIFO (First-In-First-Out)
- Синхронная реализация
- Конфигурируемая глубина и ширина данных
- Флаги empty/full

### 4. AXI Lite Slave
- Стандартный AXI4-Lite интерфейс
- Регистры для управления UART
- Прерывания и статусные флаги

## Запуск тестов

```bash
# Установка зависимостей
make install

# Запуск конкретного теста с конкретным 
make test/fifo SIM=verilator

# Запуск всех тестов
make
```

## Особенности тестирования

- **Randomized testing**: Стохастическое тестирование граничных условий
- **Concurrent operations**: Проверка параллельных операций чтения/записи
- **Error conditions**: Тестирование обработки ошибок
- **Performance testing**: Проверка производительности при высокой нагрузке

## Конфигурация

Основные параметры настройки находятся в `test/lib/config.py`:
- Тактовая частота
- Скорости передачи UART
- Глубина FIFO
- Тайминги reset/clock

## Анализ результатов

Волновые формы сохраняются в формате FST в директории `test/dump/` для последующего анализа в GTKWave или аналогичных инструментах.
